<html lang="en" >
	<body onload="musicauto()">
	<title>BALL STRIKE DEFENDER</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
   <meta
      name="description"
      content="BSD is an online tower defense and you can grind here  exps and grind your stragety. and discover easter eggs. and more" />
    <meta name="theme-color" content="Black" />
    <meta name="keywords" content="Tower Defense, BSD, Ball Strike Defender, Ballstrikedefender, BSD, BSD new updated, BSD game, BallStrikeDefender GAme, BSD 2024, Frank, jimuel," />
    <meta name="author" content="KlienReijiOniwa" />
<link rel="icon" href=
"https://raw.githubusercontent.com/KlienReijiOniwa/BSD/main/SERVER/image/Untitled%20design_20240815_194013_0000.png" 
          type="image/x-icon">
    <meta name="theme-color" content="Black" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- open graph metadata -->
    <meta property="og:title" content="BALL STRIKE DEFENDER" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://klienreijioniwa.github.io/BSD/" />
    <meta property="og:image" content="https://raw.githubusercontent.com/KlienReijiOniwa/BSD/main/SERVER/image/Untitled%20design_20240815_194013_0000.png" />
    <meta
      property="og:description"
      content="BSD is an online tower defense and you can grind here  exps and grind your stragety. and discover easter eggs. and more!" />

    <!-- progressive web app manifest-->
    <link rel="manifest" href="manifest.json" />

    <!-- prevent caching of index.html -->
    <meta http-equiv="Cache-control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="Pragma" content="no-cache" />


<div class="gameFullContent">
        <div class="leftContainer">
            <span class="version"></span>
<page>
  <div id="mainpage">
<center>
  <center>
    <img width="330px" height="30px" src="https://raw.githubusercontent.com/KlienReijiOniwa/HLSIM/main/00b3c145f1408cc190c853a16890fce80ad2389eda39a3ee5e6b4b0d3255bfef95601890afd80709da39a3ee5e6b4b0d3255bfef95601890afd80709763616309853142b59926af015b18298.png">
  </center>
</center>

<center>
  
<button class="buttonBSD" style="height:100px;" >
  <label>2025 Countdown:</label>
  <figure>
    
  </figure>
<table align="center"><tbody><tr><td><img src="https://gen.sendtric.com/countdown/hl8ekm16b4" style="display: block;max-width:100%" /></td></tr></tbody></table>
</button>

<button class="buttonBSD" role="button" style="height:200px;">
  <h1>EXP:<span class="satoshiAmount">0</span></h1>
</button>
<button class="buttonBSD" role="button">
  <h2>BCOINS:<spa class="bitcoinAmount">0</span></h2>
</button>
</center>
<center>
<button class="buttonBSD"  onclick="newupdate()">Check Mails (1)</button>
<button class="buttonBSD"  onclick="event9()">
  <b>Events</b>
</button>



<button class="buttonBSD"  onclick="Rank()">Rank </button>
<button class="buttonBSD" >Inventory(Coming Soon)</button>
<button class="buttonBSD"  onclick="createWorld()" hidden="">Create custom</button>
<button class="buttonBSD"  onclick="joinmap()">Mining Area</button>
<button class="buttonBSD"  onclick="enchantable()">Enchantments</button>
<button class="buttonBSD"  onclick="ohsi()">Settings</button>

<h2>Social Media:</h2>
<button class="buttonBSD"  onclick="window.location.href='https://www.facebook.com/profile.php?id=61564818171656&mibextid=ZbWKwL'">Facebook</button>
<button class="buttonBSD">
    <label>Copyrighted @ 2024-2024 Ball Strike Defender • MekoNetwork • Resources used having a permit usage from github [ 2024 - 2024 ]</label>
  </button>
</div>
</page>


<div id="rankpage">
  <center>
    <h1>Types of Map:</h1>
    <button class="buttonBSD" onclick="plain()">Dead Island</button>

  </center>
</div>
<div id="details">
  <center>
<button class="buttonBSD" onclick="back1()">Back</button>
</center>
  
<h1>Mails</h1>
<h3>New Event:</h3>
  <kbd>September 1 2024</kbd>
<li>Snow Event, Free Gifts, Frozen Generator, BLIZZARD EVENT COUNTDOWN, 2025 Countdown</li>
<h3>Reward Mail</h3>
  <kbd>September 1 2024</kbd>
<p>You have been rewarded 2x damage </p>
<p>the reason of this reward mail, we rewarded our user who experience the rewind update alot of user mad of the rewind so we regarded you guys a 2x damage is useful for physical Bullet turrets </p>
<h3>New Plugin</h3>
  <kbd>August 31 2024</kbd>
<li>Texture Pack(upgraded to a new version)</li>
<p>upgraded the texture pack and other maps coming soon!</p>
<p>texturing is my weakness but now not </p>
  <h3>UPDATE 3</h3>
  <kbd>August 26 2024</kbd>
  <li>MEGA UPCOMING EVENTS!</li>
  <li>Rank Revamped:( revamped the map and fixed sfx and more fun and satisfying and revamped the rank system )</li>
  <li>NEW MAPS:you can choose new between maps</li>
  <li>New bosses and enemies that have lores</li>
  <li>New Functions of different enemies which special abilities</li>
  <li>added items and power spells can throwable</li>
  <li>Revamped Turrets</li>
<li>Top Secret Turret: MeowShooter</li>
  <li>NEW EVENTS UPCOMING</li>
<li>Enemies Low Given Cash in Game</li>
  <li>Enchantments more percentage of appering</li>
<li>Game Functions Changes</li>
  <li>Texture Pack Enchanced quality</li>
<li>Fixed Visual Bug</li>
  <li>Save/load only available at customs not available yet is still in under-develop </li>
<li>Generators Gives more coins when you spent so much time in the website</li>
  <li>Full of Easter Eggs</li>
<li>Gamepass Event Fixed!</li>
<li>Explodable Items Available Now in game</li>

  </center>
  <h3>NEW EVENT!</h3>
  <kbd>August 24 2024</kbd>
  <li>EVENT:(NATIONAL HEROES DAY,LoL Event And Other 1)</li>
  
  <h3>UPDATE 2</h3>
  <kbd>August 16 2024</kbd>
  <li>Added Music Mute button added</li>
  <li>ADDED:[ENCHANTMENTS: Penaty, Protection, Entangle, Flame Striker ]</li>
  <li>Texture Fixing</li>
  <li>Added Custom Create</li>
  <li>Added Anti Game low FPS</li>
  <li>Fixed Maximum Cache to 10MB</li>
  <li>Save/load Bug Fixed</li>
<li>Fixed Infinity</li>
  <li>Enhance Game Quality </li>
<li>RNG More Advanced</li>
  <li>Currency Changes</li>
<li>Buff:Blob(enhanced spawn rate)</li>
  <li>Exp Sytem Enhanced</li>
<li>Enemy Groupers +90% Spawn Rate</li>
  <li>All Turret Damage +10% Event(End:42Hours)</li>
<li>Mining(Mines BCOINS and EXP)</li>
  <li>Fixed 2 Bugs</li>
<li>40 limiter Removed</li>
<li>Texture Revamp</li>

  <h3>Patch 1</h3>
  <kbd>August 16 2024</kbd>
  <li>Fixed Boss Spawn Rate</li>
  <li>Nerf:Reaper 10%- health</li>
  <li>New Different Color of Enemies:(Rainbow)[0.000001% Chance Spawn]</li>
  <li>Nerf:Gap Shooter -2% Damage</li>
  <li>Buff:Laser AVO +15% Damage Radius +5%</li>
  <li>New Textures, And New Style</li>
  <li>Boss Changes </li>
<li>Fixed Infinity</li>
  <li>Star Replaced to Exp which can be useful</li>
<li>New RNG:+30% Chance Enemies Spawned in Groups</li>
  <li>Fixed a idle Turrets. • idle Turrets Usually happened when you save/load but later fixed but still can a error accord</li>
<li>Fixed Blob Ball Movement</li>
  <li>Nerf:Blob Ball -10% Speed Rarely spawn</li>
<li>Buff:Thrower +20% Damage</li>
  <li>Buff:Mage Level 3 Much More Power +25%</li>
<li>3 Bugs Fixes and other</li>
  <li>Rank Fixed</li>
<li>If you spent more time in the website more damage you haved</li>

  <h3>UPDATE 1</h3>
  <kbd>August 15 2024</kbd>
  <li>Added New Boss Reaper</li>
  <li>Fixed Bugs</li>
  <li>Rank Money Glitch Fixed</li>
  <li>Added Endless Mode</li>
  <li>Nerf:Blacked Red Ball, Sniper, Smiley Basketball</li>
  <li>Buff:All Basic Attacks has been buffed and the Gap Shooter</li>
<li>EASTER EGGS</li>

</div>
<div id="Settingsme">
  <center>
    <h1>Settings</h1>
    <button class="buttonBSD">
      <label>Reset Account</label>
      <figure></figure>
      <input type="submit" onclick="resetaccount()" value="Reset">
    </button>
    <button class="buttonBSD">
      <label>Engine</label>
      <figure></figure>
    <select name="" id="">
      <option value="">Google Browser Engine</option>
      <option value="" disabled="">Local Browser</option>
 
    </select>  
    </button>

    <button class="buttonBSD">
     <label>FPS GAME</label> 
     <figure></figure>
<select name="racist" id="racist">
  <option value="">60 FPS DEFAULT</option>
  <option value="">30 FPS </option>
  <option value="">10 FPS </option>
</select>
    </button>
    <button class="buttonBSD">
    <label>Server</label>
    <figure></figure>
<select name="" id="">
  <option value="">Server2</option>
  <option disabled="" value="">Server1 ( Full )</option>
  <option disabled=""value="">Server4 ( Full )</option>
  <option disabled=""value="">Server3 ( Full )</option>
  opt+
</select>
<figure></figure>
</button>
<button class="buttonBSD">
  <label>Region</label>
  <figure></figure>
  <select name="region" id="region">
    <option value="">Not Available</option>
    <option value="" disabled="">Asia</option>
  
  </select>
</button>
<button class="buttonBSD">
  Setting changes 
</button>
    <button class="buttonBSD" onclick="saveChanges()">
    Save Change
    </button>
  </center>
</div>
<div id="enchantments">
  <center>
    <button class="buttonBSD" onclick="back2()">Back</button>
  </center>
  <fieldset class="normalcard">
    <h1>Penaty</h1>
<button class="texture-tag-normal">Unit</button> <button class="texture-tag-turrerts">Turrets</button>
   <p>It Plus the penetration +21% and plus the damage of the big boy turrets </p>
<button style="width:100%;" class="purchaseItem" id="BSD_ENCHANT1" data-price="0.00000600" data-bits-per-sec="0.00000000">

<h4 class="amountOfItem">0</h4>
   
         
                    <h2 class="itemHeadline">Enchant</h2>
                                  <p class="itemPrice">0.00000600 BCOIN</p>
            
                </button>
  </fieldset>
    <fieldset class="normalcard">
    <h1>Protection</h1>
<button class="texture-tag-normal">Spell</button> <button class="texture-tag-turrerts">Turrets</button>
   <p>Minus The Enemies Damage by +5%. and it doubles per spent time in a match for 30min</p>
<button style="width:100%;" class="purchaseItem" id="BSD_ENCHANT2" data-price="0.00005600" data-bits-per-sec="0.00000000">

<h4 class="amountOfItem">0</h4>
   
         
                    <h2 class="itemHeadline">Enchant</h2>
                                  <p class="itemPrice">0.00005600 BCOIN</p>
            
                </button>
  </fieldset>
    <fieldset class="normalcard">
    <h1>Entangle</h1>
<button class="texture-tag-normal">Spell</button> <button class="texture-tag-turrerts">Strategy</button>
   <p>this enchant the path to slow the enemies by 10% and can usefull for boses or fast balls</p>
<button style="width:100%;" class="purchaseItem" id="BSD_ENCHANT3" data-price="0.00010000" data-bits-per-sec="0.00000000">

<h4 class="amountOfItem">0</h4>
   
         
                    <h2 class="itemHeadline">Enchant</h2>
                                  <p class="itemPrice">0.00010000 BCOIN</p>
            
                </button>
  </fieldset>
    <fieldset class="normalcard">
    <h1>Flame Striker</h1>
<button class="texture-tag-normal">Spell</button> <button class="texture-tag-turrerts">Strategy</button>
   <p>Enchanting your units with this.. they can burn they're enemies by 60% damage and if hit 2 times plus the damage by 20%</p>
<button style="width:100%;" class="purchaseItem" id="BSD_ENCHANT4" data-price="0.77000000" data-bits-per-sec="0.00000000">

<h4 class="amountOfItem">0</h4>
   
         
                    <h2 class="itemHeadline">Enchant</h2>
                                  <p class="itemPrice">0.77000000 BCOIN</p>
            
                </button>
  </fieldset>
  
  
  
  
  
  
  
</div>
<div id="customcreateot">
  <center>
  <button class="buttonBSD" style="height:300px">My Match</button>
  <button class="buttonBSD">
    <label>Modes:</label>
    <figure></figure>
   <select name="" id="">
     <option value="">Simple</option>
     <option value="">Hardcore</option>
     <option value="">Infinite</option>
     <option value="" disabled="">Sandbox(Premium)</option>
     opt+
   </select>
  </button>
  
<button class="buttonBSD"  onclick="Endless()">Play</button>
</center>
</div>
<div id="pagemap2">
  <center>
  <button class="buttonBSD" onclick="back3()">Back</button>
</center>
  <fieldset class="normalcard">
    <h1>Generator I</h1>
<button class="texture-tag-normal">LVL 1</button> <button class="texture-tag-turrerts">Generator</button>
   <p>This Generator Grind 1 BCOINS and Exp Per Second</p>
<button style="width:100%;" class="purchaseItem" id="BSD_GENERATOR1" data-price="0.00000999" data-bits-per-sec="0.00000001">

<h4 class="amountOfItem">0</h4>
   
         
                    <h2 class="itemHeadline">Purchase</h2>
                                  <p class="itemPrice">0.00000999 BCOIN</p>
            
                </button>
  </fieldset>
  <fieldset class="normalcard">
    <h1>Generator II</h1>
<button class="texture-tag-normal">LVL 5</button> <button class="texture-tag-turrerts">Generator</button>
   <p>This Genrator Grind 10 BCOINS and EXP Per Second</p>
<button style="width:100%;" class="purchaseItem" id="BSD_GENERATOR2" data-price="0.05100000" data-bits-per-sec="0.00000010">

<h4 class="amountOfItem">0</h4>
   
         
                    <h2 class="itemHeadline">Purchase</h2>
                                  <p class="itemPrice">0.05100000 BCOIN</p>
            
                </button>
  </fieldset>
  <fieldset class="normalcard">
    <h1>Generator III</h1>
<button class="texture-tag-normal">LVL 10</button> <button class="texture-tag-turrerts">Generator</button>
   <p>This Genrator Grind 15 BCOINS and EXP Per Second</p>
<button style="width:100%;" class="purchaseItem" id="BSD_GENERATOR3" data-price="5.00000000" data-bits-per-sec="0.00000015">

<h4 class="amountOfItem">0</h4>
   
         
                    <h2 class="itemHeadline">Purchase</h2>
                                  <p class="itemPrice">5.00000000 BCOIN</p>
            
                </button>
  </fieldset>
</div>
<div id="eventpage">
  <center>
    <button class="buttonBSD" onclick="back100()">Back</button>
  </center>
<h1>EVENTS:</h1>
<fieldset class="eventlol">
  <h2>BLIZZARD EVENT</h2>
  <p>BLIZZARD EVENT • Coming Soon</p>
  <p>Blizzard event!!!!</p>
  <p>this event is the most op and can unlock frozen Genrator still coming soon.</p>

</fieldset>

</fieldset>
</div>
<script>

document.getElementById("eventpage").style.display = "none"
document.getElementById("Settingsme").style.display = "none"
document.getElementById("rankpage").style.display = "none"
document.getElementById("details").style.display = "none"
document.getElementById("enchantments").style.display = "none"
document.getElementById("customcreateot").style.display = "none"
document.getElementById("pagemap2").style.display = "none"

function back3() {
document.getElementById("pagemap2").style.display = "none"
  document.getElementById("mainpage").style.display = "block"
}
function reedeme() {
document.getElementById("reedem").style.display = "none"
alert("Redeemed:1x BCoins")
}
function joinmap() {
document.getElementById("pagemap2").style.display = "block"
  document.getElementById("mainpage").style.display = "none"
}

function createWorld() {
document.getElementById("customcreateot").style.display = "block"
  document.getElementById("mainpage").style.display = "none"
}
function Rank() {
document.getElementById("rankpage").style.display = "block"
  document.getElementById("mainpage").style.display = "none"
}
function back100() {
document.getElementById("eventpage").style.display = "none"
  document.getElementById("mainpage").style.display = "block"
}
function plain() {
    
 console.log("create('Round')") 
  
  if (window.confirm("Click [OK] to create round"))
  {
document.getElementById("rankpage").style.display = "none"
window.location.href = "SERVER/Classic/RANK.html"
}
  else
  {
  console.log("delete('round')")  
document.getElementById("rankpage").style.display = "none"
  document.getElementById("mainpage").style.display = "block"

  }
  }
  function event9() {
document.getElementById("eventpage").style.display = "block"
  document.getElementById("mainpage").style.display = "none"

  }
function Endless() {
window.location.href = "https://klienreijioniwa.github.io/BSD/SERVER/Classic/CUSTOM/BSD.html"
}
  
function newupdate() {
document.getElementById("details").style.display = "block"
  document.getElementById("mainpage").style.display = "none"

}
function back1() {
document.getElementById("details").style.display = "none"
  document.getElementById("mainpage").style.display = "block"

}
function ohsi() {
document.getElementById("Settingsme").style.display = "block"
  document.getElementById("mainpage").style.display = "none"
}


function resetaccount() {
if (window.confirm("Are You Sure You Want to Reset Your Account? | Click [OK] to Confirm "))
  {
    
Game.resetGame()

}
else
{
  console.log("delete('round')")  
document.getElementById("rankpage").style.display = "none"
  document.getElementById("mainpage").style.display = "block"

  }
  }
function saveChanges() {
    window.location.reload();
} 
function enchantable() {
document.getElementById("enchantments").style.display = "block"
  document.getElementById("mainpage").style.display = "none"
}
function back2() {
document.getElementById("enchantments").style.display = "none"
  document.getElementById("mainpage").style.display = "block"

}


</script>




</div>
</div>


<script src="SERVER/Classic/lib/jquery-3.3.1.min.js"></script>

<style>

body {


color: white;


	min-height: 100vh;
	font-family: sans-serif;
	transition: background var(--transition);
	
	background: #111;
	background-image: url('https://cdn.modrinth.com/data/y5MxNA6O/images/271df9fa3fc4cbd3476e7ef06de4dec39c8d4cf5.gif');
}
.texture-tag-turrerts {
background-color: grey;
  border-radius: 20px;
  border: 0px;
  padding: 5px;
  color: white;
}
.NNEvent {
background-image: url("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT9eO63RiLEY4UZj8BtKjGQl2w0d7OP_0hXAQ&amp;usqp=CAU");
color: black;
border-radius: 10px;
border-color: orange;
margin: 7px;
align-self: center;
}
.eventlol {
  background-image: url("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTDvCtoVc2-PsdQw0w4aflcxyjmSoR8XbpiMJ5P5oMPawehLjox3vFwcuY&amp;s=10");
color: white;
border-radius: 10px;
border-color: orange;
margin: 7px;
align-self: center;

}
.texture-tag-normal {
  background-color: blue;
  border-radius: 20px;
  border: 0px;
  padding: 5px;
  color: white;
}
.purchaseItem:hover{
    background: ;
    cursor: pointer;
}
.normalcard {
background-color: white;
color: black;
border-radius: 10px;
border-color: orange;
margin: 7px;
align-self: center;
}
.epiccard {
content: "";
  background: linear-gradient(
    45deg,
    #ff0000,
    #ff7300,
    #fffb00,
    #48ff00,
    #00ffd5,
    #002bff,
    #7a00ff,
    #ff00c8,
    #ff0000
  );
  
  animation: glowing-button-85 20s linear infinite;
  transition: opacity 0.3s ease-in-out;
  border-radius: 10px;
}
.box {
background: linear-gradient(
    45deg,
    #ff0000,
    #ff7300,
    #fffb00,
    #48ff00,
    #00ffd5,
    #002bff,
    #7a00ff,
    #ff00c8,
    #ff0000
  );
}  
/* CSS */
.box-58 {
background: linear-gradient(
    45deg,
    #ff0000,
    #ff7300,
    #fffb00,
    #48ff00,
    #00ffd5,
    #002bff,
    #7a00ff,
    #ff00c8,
    #ff0000
  );
}  
}
.bitcoin {
  padding: 0.6em 2em;
  border: none;
  outline: none;
  color: rgb(255, 255, 255);
  background: #111;
  cursor: pointer;
  position: relative;
  z-index: 0;
  border-radius: 10px;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  width: 300px;
  height: 60px;
  margin: 10px;
}

.bitcoin:before {
  content: "";
  background: linear-gradient(
    45deg,
    #ff0000,
    #ff7300,
    #fffb00,
    #48ff00,
    #00ffd5,
    #002bff,
    #7a00ff,
    #ff00c8,
    #ff0000
  );
  position: absolute;
  top: -2px;
  left: -2px;
  background-size: 400%;
  z-index: -1;
  filter: blur(5px);
  -webkit-filter: blur(5px);
  width: calc(100% + 4px);
  height: calc(100% + 4px);
  animation: glowing-button-85 20s linear infinite;
  transition: opacity 0.3s ease-in-out;
  border-radius: 10px;
}

@keyframes glowing-button-85 {
  0% {
    background-position: 0 0;
  }
  50% {
    background-position: 400% 0;
  }
  100% {
    background-position: 0 0;
  }
}

.bitcoin:after {
  z-index: -1;
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  background: #222;
  left: 0;
  top: 0;
  border-radius: 10px;
}
.buttonBSD {
  padding: 0.6em 2em;
  border: none;
  outline: none;
  color: rgb(255, 255, 255);
  background: #111;
  cursor: pointer;
  position: relative;
  z-index: 0;
  border-radius: 10px;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  width: 300px;
  height: 60px;
  margin: 10px;
}

.buttonBSD:before {
  content: "";
  background: linear-gradient(
    45deg,
    #ff0000,
    #ff7300,
    #fffb00,
    #48ff00,
    #00ffd5,
    #002bff,
    #7a00ff,
    #ff00c8,
    #ff0000
  );
  position: absolute;
  top: -2px;
  left: -2px;
  background-size: 400%;
  z-index: -1;
  filter: blur(5px);
  -webkit-filter: blur(5px);
  width: calc(100% + 4px);
  height: calc(100% + 4px);
  animation: glowing-button-85 20s linear infinite;
  transition: opacity 0.3s ease-in-out;
  border-radius: 10px;
}

@keyframes glowing-button-85 {
  0% {
    background-position: 0 0;
  }
  50% {
    background-position: 400% 0;
  }
  100% {
    background-position: 0 0;
  }
}

.buttonBSD:after {
  z-index: -1;
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  background: #222;
  left: 0;
  top: 0;
  border-radius: 10px;
}
</style>
<script>
var bitcoins = 0
var bitcoinRate = 0

// Every item in the game
// TODO: items should be part of the Game variable
var items = [
   {
    "name": "BSD_ENCHANT1",
    "price": "0.00000600"

  },
   {
    "name": "BSD_ENCHANT2",
    "price": "0.00005600"

  },
   {
    "name": "BSD_ENCHANT3",
    "price": "0.00010000"

  },
   {
    "name": "BSD_ENCHANT4",
    "price": "0.77000000"

  },
  //GENERATORS SERVERBASE//
   {
    "name": "BSD_GENERATOR1",
    "price": "0.00000999"

  },
   {
    "name": "BSD_GENERATOR2",
    "price": "0.05100000"

  },
   {
    "name": "BSD_GENERATOR3",
    "price": "5.00000000"

  },

]

// Rate is null (at the beginning)
var bSec = null;

// If there is no bitcoins Item in the localStorage, create one.
// If there is one, do the other thing.
if(localStorage.getItem("bitcoins") === null){
  // Bitcoins are 0
  bitcoins = 0

  // Set the localStorage Item for the first time
  localStorage.setItem("bitcoins", "0");

  // Write the current amount of Bitcoins on the page
  $(".bitcoinAmount").text(bitcoins.toFixed(8))

}else{

  // Get the amount of Bitcoins and parse them to a float number
  bitcoins = parseFloat(localStorage.getItem("bitcoins"))

  $(".bitcoinAmount").text("loading...")
  $(".satoshiAmount").text("loading...")

  let satoshis = bitcoins * 100000000;

}

/**
 *
 *  <-- Setting up the game´s functions -->
 *
 */



// Game variable which will contain any needed major function or needed variables for the game.
var Game = {}


// Every constant variable is saved here
Game.GameConst = {
  "priceMultiplier": 1.15,
  "VERSION": ": [UPDATE 3]"
}

Game.units = [
      "Million",
      "Billion",
      "Trillion",
      "Quadrillion",
      "Quintillion",
      "Sextillion",
      "Septillion",
      "Octillion",
      "Nonillion",
      "Decillion",
      "Undecillion",
      "Duodecillion",
      "Tredecillion",
      "Quattuordecillion",
      "Quindecillion",
      "Sexdecillion",
      "Septdecillion",
      "Octodecillion",
      "Novemdecillion",
      "Vigintillion",
      "Unvigintillion",
      "Duovigintillion",
      "Trevigintillion",
      "Quattuorvigintillion",
      "Quinvigintillion",
      "Sexvigintillion",
      "Septvigintillion",
      "Octovigintillion",
      "Novemvigintillion",
      "Trigintillion"
]



/**
 * Calculating every price for the items when the game was started (and if there are any items).
 *
 * @param element {HTMLElement} - The HTML element of the item on the game page
 * @param price {Number} - The price of the item, got from the items Object
 * @param itemAmount {Number} - The current amount of the item, saved in the localStorage
 */

Game.setPriceAtGameBeginning = function (element, price, itemAmount) {

  // Calculation of the price
  var multiplier = Game.GameConst.priceMultiplier

  // Calculate the new price -> price * multiplier^itemAmount
  var calculation = (parseFloat(price) * Math.pow(multiplier, parseInt(itemAmount))).toFixed(8)

  // Showing the actual price
  element.children()[2].textContent = calculation + " "

  // Set the data-price attribute with the new price
  element.attr("data-price", calculation.toString())

}



/**
 * Function to increase the amount of the item (in the localStorage) with the specific identifier.
 *
 * @param id - The identifier of the item (the id from the list element)
 */
Game.itemAction = function (id) {

  var item = id
  var itemAmount = 0;

  if(localStorage.getItem(item) === null){
    localStorage.setItem(item, "1");
  }else{
    itemAmount = parseInt(localStorage.getItem(item))

    localStorage.setItem(item, "" + (itemAmount + 1) + "");

  }

}



/**
 * Calculating the Bitcoins per Second - rate when the page was opened.
 *
 */
Game.setBitcoinPerSecondRateAtBeginning = function () {

  for(var i = 0; i < items.length; i++){
    if(localStorage.getItem(items[i].name) === null){
      localStorage.setItem(items[i].name, "0")
    }else{
      // HTML element on the game page
      var $element = $("#" + items[i].name)

      // Amnount of the item
      var itemAmount = localStorage.getItem(items[i].name)

      // Writing the amount on the page at the item´s element
      $element.children()[0].textContent = itemAmount

      // Only calculate the new price if there is more than 0 items.
      // If there are not enough items, it will just continue, and if there are,
      // it will execute the function and continue after it as well.
      if(itemAmount > 0) {
        Game.setPriceAtGameBeginning($element, parseFloat(items[i].price), parseInt(itemAmount))
      }

      // Getting the data-bits-per-sec attribute, needed for calculating the bitcoin/sec rate
      var bits_per_sec = $element.attr("data-bits-per-sec")
      itemAmount = parseInt(itemAmount)

      // The rate before
      var before = bitcoinRate

      // Calculating the rate
      bitcoinRate = bitcoinRate + (itemAmount * bits_per_sec)

      // Logging the calculation in the console
      console.log("i = " + i + " | B/sec before: " + before.toFixed(8) +
        " - Calculation made: " + before.toFixed(8) + " + (" + itemAmount + " * " + bits_per_sec + ") = " +  bitcoinRate.toFixed(8) +
        " | New B/sec at " + bitcoinRate.toFixed(8))
    }
  }

}



/**
 * Function which sets a new "Bitcoin per Second" rate
 *
 * @param rate - The number which must be added to the current Bitcoin per Second - rate
 * @returns {Number} - Returning the new Bitcoin per Second - rate
 */
Game.setNewBitcoinRate = function (rate) {

  // Logging the new Bitcoin per second rate
  console.log("setNewBitcoinRate -> New rate: " + (bitcoinRate + rate).toFixed(8) )

  // Showing the new rate on the page
  // Rounding at specific values
  if((bitcoinRate + rate) >= 1000000) {
    $(".bSecRateNumber").text((bitcoinRate + rate).toFixed(0).optimizeNumber())
  }else if((bitcoinRate + rate) >= 1000 ){
    $(".bSecRateNumber").text((bitcoinRate + rate).toFixed(0))
  }else if((bitcoinRate + rate) >= 1 ){
    $(".bSecRateNumber").text((bitcoinRate + rate).toFixed(2))
  }else{
    $(".bSecRateNumber").text((bitcoinRate + rate).toFixed(8))
  }

  // Returning the new rate
  return bitcoinRate = bitcoinRate + rate;

}



/**
 * This function will check if there is any change in the localStorage,
 * especially looking at the item amount. So it will actually calculate every price again and
 * again. (This function should be recoded)
 *
 * TODO: Find a better way for setting the price after an item was bought.
 */
Game.setNewPrice = function()
{
  // for-loop for getting the price multiplier and to calculate the new price
  for(var i = 0; i < items.length; i++){
    if(localStorage.getItem(items[i].name) === null){
      localStorage.setItem(items[i].name, "0")
    }else{
      var $element = $("#" + items[i].name)
      var itemAmount = localStorage.getItem(items[i].name)

      $element.children()[0].textContent = itemAmount

      // Only calculate if there is more than 0 items
      if(itemAmount > 0) {

        // Calculation of the price
        var multiplier = Game.GameConst.priceMultiplier
        var calculation = (parseFloat(items[i].price) * Math.pow(multiplier, parseInt(itemAmount))).toFixed(8)

        // Showing the actual price
        $element.children()[2].textContent = calculation + " BCOINS"

        // Set the data-price attribute with the new price
        $element.attr("data-price", calculation.toString())

      }
    }
  }
  // End of the for-loop
}

/**
 * The function which adds new generated Bitcoins to the current Bitcoin amount.
 *
 * @param rate - The Bitcoin per second rate; Needed for adding the generated Bitcoins every second
 */
Game.bSecFunction = function (rate) {

  bitcoins = bitcoins + rate

  // Show both values on the page
  // Rounding the bitcoin number at specific set values
  if(bitcoins > 1000000){

    let bitcoinUnitNumber = bitcoins.optimizeNumber()

    $(".bitcoinAmount").text(bitcoinUnitNumber)
  }else if(bitcoins >= 1000){
    $(".bitcoinAmount").text(bitcoins.toFixed(0))
  }else if(bitcoins >= 1){
    $(".bitcoinAmount").text(bitcoins.toFixed(2))
  }else{
    $(".bitcoinAmount").text(bitcoins.toFixed(8))
  }


  // Rounding the satoshis amount at a specific value and optimize it for displaying on the screen.
  var satoshis = bitcoins * 100000000;

  if(satoshis < 1000000) {
    $(".satoshiAmount").text(Math.round(satoshis))
  }else{

    let satoshiUnitNumber = satoshis.optimizeNumber()
    $(".satoshiAmount").text(satoshiUnitNumber)
  }

  // Save bitcoin amount in the storage
  localStorage.setItem("bitcoins", "" + bitcoins + "")

  console.log("bSec -> B/sec at " + rate.toFixed(8))

}

/**
 * Stops the B/sec interval.
 */
Game.stopBsec = function () {
  clearInterval(bSec)
}

/**
 * Function for optimizing the number with an unit for displaying it on the screen.
 *
 * @returns {string} An optimized number as a string with its unit
 */
Game.optimizeNumber = function () {
  if(this >= 1e6){
    let number = parseFloat(this)
    let unit = Math.floor(parseFloat(number.toExponential(0).toString().replace("+", "").slice(2)) / 3) * 3

    // let test = this.toExponential(0).toString().replace("+", "").slice(2)
    // console.log(test)

    var num = (this / ('1e'+(unit))).toFixed(2)

    var unitname = Game.units[Math.floor(unit / 3) - 1]

    return num + " " + unitname
  }

  return this.toLocaleString()
}

Number.prototype.optimizeNumber = Game.optimizeNumber
String.prototype.optimizeNumber = Game.optimizeNumber

/**
 * Resets the game
 */
Game.resetGame = function () {
  Game.stopBsec()
  localStorage.setItem("bitcoins", "0")
  localStorage.clear()
  location.reload()
}

// --------------------------------------------------- //

/**
 * <-- Now doing everything -->
 */


// Calculates the Bitcoin/sec rate with the amount of every item multiplied with their given Bitcoins/second rate.
Game.setBitcoinPerSecondRateAtBeginning()

// Stating the interval with the calculated Bitcoin/second rate.
bSec = setInterval(function () {
  Game.bSecFunction(bitcoinRate);
}, 1000)


// Doing everything here when the game is ready to be used.
$(document).ready(function () {

  // Write the version into the .version span element
  $(".version").text("Version " + Game.GameConst.VERSION)

  // Write the bitcoin per second rate into the .bSecRateNumber span element
  if(bitcoinRate >= 1000){
    $(".bSecRateNumber").text(bitcoinRate.toFixed(0))
  }else if(bitcoinRate >= 1 ){
    $(".bSecRateNumber").text(bitcoinRate.toFixed(2))
  }else{
    $(".bSecRateNumber").text(bitcoinRate.toFixed(8))
  }


  // If clicked on the big Bitcoin
  $(".bitcoin").click(function () {

    // Add 1^-8 Bitcoins (equal to 1 satoshi)
    bitcoins = bitcoins + 0.00000001

    // Show the new number on the page
    if(bitcoins > 1000000){

      let bitcoinUnitNumber = bitcoins.optimizeNumber()
      $(".bitcoinAmount").text(bitcoinUnitNumber)

    }else if(bitcoins >= 1000){
      $(".bitcoinAmount").text(bitcoins.toFixed(0))
    }else if(bitcoins >= 1){
      $(".bitcoinAmount").text(bitcoins.toFixed(2))
    }else{
      $(".bitcoinAmount").text(bitcoins.toFixed(8))
    }

    if((bitcoins * 100000000) < 1000000) {
      $(".satoshiAmount").text(Math.round((bitcoins * 100000000)))
    }else{

      let satoshiUnitNumber = (bitcoins * 100000000).optimizeNumber()
      $(".satoshiAmount").text(satoshiUnitNumber)
    }

    // Save the new amount of Bitcoins in the localStorage storage
    localStorage.setItem("bitcoins", "" + bitcoins + "")

  });


  // If any item from the list was clicked...
  $(".purchaseItem").click(function () {

    // Get following attributes and children elements

    // id of the item
    var id = $(this).attr("id")

    // The price attribute as a float number
    var price = parseFloat($(this).attr("data-price"))

    // The b/sec attribute from the item as a float number
    var bitcoinsPerSecond = parseFloat($(this).attr("data-bits-per-sec"))

    // The element which shows how many of the item is existing
    var amountDisplay = $(this).children()[0]
    var amountDisplayAmount = parseInt(localStorage.getItem(id))

    var priceDisplay = $(this).children()[2]

    // If you have enough Bitcoins, it´ll buy one item
    if(parseFloat(bitcoins.toFixed(8)) >= price){

      // Substract the price from the current Bitcoin number and set it to the bitcoins variable.
      bitcoins = parseFloat(bitcoins.toFixed(8)) - price

      // Save the new amount of Bitcoins in the localStorage storage
      localStorage.setItem("bitcoins", "" + bitcoins + "")

      // Changing amount number on the right of the item
      amountDisplayAmount = amountDisplayAmount + 1
      amountDisplay.textContent = amountDisplayAmount.toString()

      // Changing the Bitcoins amount
      // Rounding the Bitcoin number at specific values
      if(bitcoins > 1e6){

        let bitcoinUnitNumber = bitcoins.optimizeNumber()
        $(".bitcoinAmount").text(bitcoinUnitNumber)

      }else if(bitcoins >= 1000){
        $(".bitcoinAmount").text(bitcoins.toFixed(0))
      }else if(bitcoins >= 1){
        $(".bitcoinAmount").text(bitcoins.toFixed(2))
      }else{
        $(".bitcoinAmount").text(bitcoins.toFixed(8))
      }

      // Calculation the Satoshi amount
      if((bitcoins * 100000000) < 1e6) {
        $(".satoshiAmount").text(Math.round((bitcoins * 100000000)))
      }else{

        let satoshiUnitNumber = (bitcoins * 100000000).optimizeNumber()
        $(".satoshiAmount").text(satoshiUnitNumber)

      }

      // Increasing the amount of the specific item
      Game.itemAction(id)

      // Stops the interval
      Game.stopBsec()

      // Setting a new price and show it
      Game.setNewPrice()

      // Saving the new calculated Bitcoin/second rate in a variable
      var newRate = Game.setNewBitcoinRate(bitcoinsPerSecond)

      // Restarting the interval with the new rate
      bSec = setInterval(function () {
        Game.bSecFunction(newRate);
      }, 1000)

    }

  })

  //
  // If the reset button was pressed, do following thing
  $(".resetButton").click(function () {
    Game.resetGame()
  })

});



</script>
</body>		
	<audio autoplay="" loop="loop" hidden="" id="my_audio" controls>
    <source src="SERVER/music/lobby.mp3" type="audio/mpeg">
Your browser does not support the audio element.
	</audio>
<script>
function musicauto() {
    document.getElementById("my_audio").play();
}
</script>
</html>
